<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>inLimbo: CMakeLists</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="inLimbo-doxygen.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">inLimbo
   </div>
   <div id="projectbrief">TUI Music Player that keeps you in Limbo.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_CMakeLists.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">CMakeLists</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>cmake_minimum_required (VERSION 3.22)</p>
<p>project(inLimbo LANGUAGES CXX VERSION 1.0.0 )</p>
<p>set(CMAKE_CXX_STANDARD 17) set(CMAKE_CXX_STANDARD_REQUIRED ON) set(CMAKE_CXX_EXTENSIONS OFF) set(CMAKE_EXPORT_COMPILE_COMMANDS ON)</p>
<h1><a class="anchor" id="autotoc_md23"></a>
&mdash; Fetch FTXUI -----------------------------------------------------------&mdash;</h1>
<p>include(FetchContent)</p>
<p>set(FETCHCONTENT_UPDATES_DISCONNECTED ON) set(FETCHCONTENT_QUIET OFF)</p>
<p>FetchContent_Declare(ftxui GIT_REPOSITORY <a href="https://github.com/arthursonzogni/ftxui.git">https://github.com/arthursonzogni/ftxui.git</a> GIT_TAG v5.0.0 GIT_PROGRESS TRUE GIT_SHALLOW TRUE EXCLUDE_FROM_ALL ) FetchContent_MakeAvailable(ftxui) </p>
<h1><a class="anchor" id="autotoc_md24"></a>
---------------------------------------------------------------------------&mdash;</h1>
<h1><a class="anchor" id="autotoc_md25"></a>
&mdash; Set Executable Name ----------------------------------------------------&mdash;</h1>
<h1><a class="anchor" id="autotoc_md26"></a>
Change executable name based on build type</h1>
<p>if(CMAKE_BUILD_TYPE STREQUAL "Debug-ASan") set(EXECUTABLE_NAME "inLimbo-DBG-Asan") elseif(CMAKE_BUILD_TYPE STREQUAL "Debug-TSan") set(EXECUTABLE_NAME "inLimbo-DBG-TSan") else() set(EXECUTABLE_NAME "inLimbo") endif()</p>
<h1><a class="anchor" id="autotoc_md27"></a>
&mdash; Add Executable -----------------------------------------------------&mdash;</h1>
<p>add_executable(${EXECUTABLE_NAME} <a class="el" href="main_8cpp.html">src/main.cpp</a> <a class="el" href="scroller_8cpp.html">src/ui/components/scroller.cpp</a> )</p>
<h1><a class="anchor" id="autotoc_md28"></a>
Set include directories for source files</h1>
<p>target_include_directories(${EXECUTABLE_NAME} PRIVATE src)</p>
<h1><a class="anchor" id="autotoc_md29"></a>
&mdash; Debugging Flags -----------------------------------------------------&mdash;</h1>
<h1><a class="anchor" id="autotoc_md30"></a>
Add debugging flags for better error reporting, debugging, and sanitization</h1>
<p>if(CMAKE_BUILD_TYPE STREQUAL "Debug-ASan") </p>
<h1><a class="anchor" id="autotoc_md31"></a>
Enable AddressSanitizer</h1>
<p>message(STATUS "Enabling AddressSanitizer for Debug-AddressSanitizer build") set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fsanitize=address -g") set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} -fsanitize=address")</p>
<h1><a class="anchor" id="autotoc_md32"></a>
Enable UndefinedBehaviorSanitizer (UBSan)</h1>
<p>message(STATUS "Enabling UndefinedBehaviorSanitizer for Debug-AddressSanitizer build") set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fsanitize=undefined")</p>
<h1><a class="anchor" id="autotoc_md33"></a>
Enable Debug Symbols</h1>
<p>set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -g")</p>
<h1><a class="anchor" id="autotoc_md34"></a>
Enable all warnings and treat them as errors</h1>
<p>set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra")</p>
<p>elseif(CMAKE_BUILD_TYPE STREQUAL "Debug-TSan") </p>
<h1><a class="anchor" id="autotoc_md35"></a>
Enable ThreadSanitizer</h1>
<p>message(STATUS "Enabling ThreadSanitizer for Debug-ThreadSanitizer build") set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fsanitize=thread -g") set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} -fsanitize=thread")</p>
<h1><a class="anchor" id="autotoc_md36"></a>
Enable UndefinedBehaviorSanitizer (UBSan)</h1>
<p>message(STATUS "Enabling UndefinedBehaviorSanitizer for Debug-ThreadSanitizer build") set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fsanitize=undefined")</p>
<h1><a class="anchor" id="autotoc_md37"></a>
Enable Debug Symbols</h1>
<p>set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -g")</p>
<h1><a class="anchor" id="autotoc_md38"></a>
Enable all warnings and treat them as errors</h1>
<p>set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra")</p>
<p>else() message(STATUS "Skipping Sanitizers for Release build") endif()</p>
<h1><a class="anchor" id="autotoc_md39"></a>
&mdash; Handle Emscripten-specific flags and files ------------------------------&mdash;</h1>
<p>if (EMSCRIPTEN) </p>
<h1><a class="anchor" id="autotoc_md40"></a>
Emscripten-specific flags</h1>
<p>string(APPEND CMAKE_CXX_FLAGS " -s USE_PTHREADS") string(APPEND CMAKE_EXE_LINKER_FLAGS " -s ASYNCIFY") string(APPEND CMAKE_EXE_LINKER_FLAGS " -s PROXY_TO_PTHREAD")</p>
<h1><a class="anchor" id="autotoc_md41"></a>
Ensure the necessary files are copied for web build</h1>
<p>foreach(file "index.html" "run_webassembly.py") configure_file("src/${file}" ${file}) endforeach(file)</p>
<h1><a class="anchor" id="autotoc_md42"></a>
Disable TagLib for Emscripten build</h1>
<p>message(STATUS "Building for Emscripten: TagLib will be excluded") else() target_link_libraries(${EXECUTABLE_NAME}) endif()</p>
<p>find_package(PkgConfig REQUIRED) pkg_check_modules(GLIB REQUIRED glib-2.0 gio-2.0)</p>
<h1><a class="anchor" id="autotoc_md43"></a>
Add include directories for glib and gio</h1>
<p>include_directories(${GLIB_INCLUDE_DIRS}) link_directories(${GLIB_LIBRARY_DIRS})</p>
<h1><a class="anchor" id="autotoc_md44"></a>
Add the necessary compilation and linker flags</h1>
<p>add_definitions(${GLIB_CFLAGS_OTHER})</p>
<h1><a class="anchor" id="autotoc_md45"></a>
Link libraries for native build</h1>
<p>target_link_libraries(${EXECUTABLE_NAME} PRIVATE ftxui::screen PRIVATE ftxui::dom PRIVATE ftxui::component PRIVATE ${GLIB_LIBRARIES} PRIVATE tag )</p>
<h1><a class="anchor" id="autotoc_md46"></a>
&mdash; Ensure the config.toml file is created in the correct directory ------------------&mdash;</h1>
<p>if (NOT EXISTS "$ENV{HOME}/.config/inLimbo/config.toml") file(MAKE_DIRECTORY "$ENV{HOME}/.config/inLimbo") configure_file("${CMAKE_SOURCE_DIR}/src/parser/examples/config.toml" "$ENV{HOME}/.config/inLimbo/config.toml" COPYONLY) endif() </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.1 </li>
  </ul>
</div>
</body>
</html>
